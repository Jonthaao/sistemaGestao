üöÄ Fluxo para produ√ß√£o
Gere o build do frontend:

bash
docker exec -it gestao_frontend npm run build
Suba os containers com override:

bash
docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d --build
Teste:

Frontend Vue.js: http://localhost:8080

Backend API: http://localhost:8080/api/health

üéØ Resumindo
Em dev: http://localhost:5173 (Vite com hot reload) + http://localhost:8080/api.

Em prod: tudo servido pelo Nginx em http://localhost:8080.



Preparar o servidor
Instalar Docker e Docker Compose na m√°quina de produ√ß√£o.

Garantir que as portas necess√°rias est√£o liberadas (ex.: 80, 443, 5432).

Configurar firewall e regras de seguran√ßa (ex.: ufw allow 80, ufw allow 443).

2. Clonar o reposit√≥rio
bash
git clone git@github.com:Jonthaao/sistemaGestao.git
cd sistemaGestao
3. Configurar vari√°veis de ambiente
Copiar .env.example para .env no backend.

Ajustar:

Banco de dados (usu√°rio, senha, host).

APP_ENV=production

APP_DEBUG=false

APP_URL=https://seudominio.com

4. Build do frontend
Dentro do container do frontend:

bash
docker-compose run --rm frontend npm install
docker-compose run --rm frontend npm run build
Isso gera os arquivos est√°ticos em frontend/dist.

5. Subir containers em modo produ√ß√£o
bash
docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d --build
6. Configurar Nginx
O nginx/default.conf j√° est√° preparado para servir:

/ ‚Üí frontend build (dist)

/api ‚Üí backend Laravel

Testar acessando:

Frontend: http://seudominio.com

API: http://seudominio.com/api/health

7. Banco de dados
Criar usu√°rio e base de dados no Postgres.

Rodar migrations:

bash
docker exec -it gestao_backend php artisan migrate --force
8. Seguran√ßa
Configurar HTTPS (certificado SSL via Certbot).

Verificar permiss√µes de pastas (storage, bootstrap/cache).

Desabilitar debug no .env.

9. Manuten√ß√£o
Para limpar caches:

bash
docker exec -it gestao_backend php artisan config:clear
docker exec -it gestao_backend php artisan route:clear
docker exec -it gestao_backend php artisan cache:clear
docker exec -it gestao_backend php artisan view:clear
Para atualizar c√≥digo:

bash
git pull origin main
docker-compose up -d --build
üéØ Resumindo
Esse checklist cobre:

Prepara√ß√£o do servidor

Configura√ß√£o de ambiente

Build do frontend

Deploy com Docker Compose

Configura√ß√£o do Nginx

Seguran√ßa e manuten√ß√£o